<div>
  <div *ngIf="isLoading; else dataReady" class="d-flex justify-content-center mt-5">
    <div class="spinner-border text-success" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>

  <ng-template #dataReady>
    <div class="alert alert-success mt-3" role="alert">
      Phá kháng cự là những mã "breakout" ra khỏi vùng kháng cự và có thể hình thành một xu hướng tăng mới. Thường được hay
      sử dụng bởi Breakout Trader. Rủi ro trong cách đầu tư này khá cao và lợi nhuận mang lại cũng rất cao.
      <br>
      Sử dụng hiệu quả với những cổ phiếu tích lũy lâu ở một vùng giá, hoặc có thông tin cơ bản hỗ trợ.
    </div>

    <div style="position: relative;">
      <ng-container *ngIf="data?.limitData">
        <div
          class="s116 subscriber_only"
          onclick="location.href='r/stockreports-unpdlk/'"
          style="cursor:pointer;width:160;height:20px;padding:7px;border: 1px solid #90afdc; background-color:#90afdc; box-sizing: content-box;"
        >
          <a href="r/stockreports-unpdlk/" style="color:white">Click to Unlock</a>
        </div>
      </ng-container>
      <h5 class="text-center mt-5 font-weight-bold">Graham checklist</h5>
      <table class="table table-bordered table-hover">
        <thead class="text-center">
          <tr>
            <th scope="cSol">STT</th>
            <th scope="col">Cổ phiếu</th>
            <th scope="col">Xu hướng</th>
            <th scope="col" >Mô hình</th>
            <th scope="col" >Tình trạng</th>
            <th scope="col" >Ngày break</th>
            <th scope="col" >Chart</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="data?.limitData; else NolimitData">
            <tr *ngFor="let row of data?.data; let idx = index">
              <td>{{idx + 1}}</td>
              <td>{{row?.code}}</td>
              <td>{{row?.trend}}</td>
              <td>{{row?.pattern}}</td>
              <td>{{row?.stringStatus}}</td>
              <td>{{row?.breakTime}}</td>
              <td>chart</td>
            </tr>

            <tr *ngFor="let row of dumpArray">
              <td>{{ row }}</td>
              <td>
                <a class="blur3-left " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
              <td>
                <a class="blur3-left " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
              <td>
                <a class="blur3-left " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
              <td>
                <a class="blur3-left " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
              <td>
                <a class="blur3-left " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
              <td>
                <a class="blur3-right " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
              <td>
                <a class="blur3-left " href="https://www.stockopedia.com/r/stockreports-unpdlk/"></a>
              </td>
            </tr>
          </ng-container>
          <ng-template #NolimitData>
            <tr *ngFor="let row of data?.data; let idx = index">
              <td>{{idx + 1}}</td>
              <td>{{row?.code}}</td>
              <td>{{row?.trend}}</td>
              <td>{{row?.pattern}}</td>
              <td>{{row?.stringStatus}}</td>
              <td class="text-right">{{row?.breakTime}}</td>
              <td>
                <a
                (click)="openChart(content, row?.imageLink)"
                >show</a>
              </td>
            </tr>
          </ng-template>
        </tbody>
      </table>
    </div>
  </ng-template>
</div>

<ng-template #popContent let-greeting="greeting">
  <img src="https://drive.google.com/uc?id=1oqskJ0HlChF2bXFsysjnE97OlIeeAS4i" alt="" />
</ng-template>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Modal title</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <img src="https://lh3.googleusercontent.com/YKMO5NllN8LA-4tEnfcIpqB0PL5EPBzk-fsjpLNu-UPikb2Q4pZFsz8TaaoV6PYXBILJkr5D1Fe-m5sNbPmdhZwNxmWOrkzqbk_ru_LLH6qwGYHoTvNsflRJlYcAWbhnaLeuzxDg=w2400" alt="" />
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>
